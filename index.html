<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bautizo ‚ú® Invitaci√≥n Divina</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Cormorant+Garamond:ital,wght@0,300;0,500;1,300&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
<style>
  :root {
    --gold: #f4d03f;
    --gold2: #f9e57a;
    --cream: #fdf6e3;
    --sky: #e8f4fd;
    --blue-soft: #a8d8f0;
    --pink-soft: #f9d0e0;
    --white: #ffffff;
    --text-dark: #2c3e50;
    --angel-blue: #c8e6f9;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Cormorant Garamond', serif;
    background: linear-gradient(135deg, #d4eaf7 0%, #f7e8f7 50%, #fdf3e7 100%);
    min-height: 100vh;
    overflow-x: hidden;
    cursor: none;
  }

  /* Custom cursor */
  .cursor {
    position: fixed;
    width: 12px;
    height: 12px;
    background: radial-gradient(circle, #fff 0%, var(--gold) 60%, transparent 100%);
    border-radius: 50%;
    pointer-events: none;
    z-index: 9999;
    transform: translate(-50%, -50%);
    transition: transform 0.1s;
    box-shadow: 0 0 10px 4px rgba(244, 208, 63, 0.6);
  }

  /* Canvas for sparkles */
  #sparkleCanvas {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
    z-index: 100;
  }

  /* Background salon */
  .salon-bg {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: 
      linear-gradient(180deg, rgba(200,230,255,0.5) 0%, rgba(255,240,250,0.4) 50%, rgba(255,250,230,0.5) 100%),
      url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><rect fill="%23f0e8ff" width="100" height="100"/><circle cx="50" cy="50" r="40" fill="none" stroke="%23e8d8f8" stroke-width="0.5" opacity="0.5"/></svg>');
    background-size: cover;
    z-index: 0;
  }

  /* Floating ambient particles */
  .ambient-particles {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
    z-index: 1;
    overflow: hidden;
  }

  .ambient-particle {
    position: absolute;
    border-radius: 50%;
    animation: floatUp linear infinite;
    opacity: 0;
  }

  @keyframes floatUp {
    0% { transform: translateY(110vh) rotate(0deg); opacity: 0; }
    10% { opacity: 1; }
    90% { opacity: 0.8; }
    100% { transform: translateY(-10vh) rotate(720deg); opacity: 0; }
  }

  /* Main container */
  .main-container {
    position: relative;
    z-index: 10;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 30px 20px 120px;
  }

  /* Header glow */
  .header-section {
    text-align: center;
    margin-bottom: 30px;
    animation: fadeInDown 1.2s ease-out;
  }

  @keyframes fadeInDown {
    from { opacity: 0; transform: translateY(-40px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .subtitle-top {
    font-family: 'Dancing Script', cursive;
    font-size: clamp(1.2rem, 3vw, 1.8rem);
    color: #7c9cbf;
    letter-spacing: 3px;
    text-shadow: 0 0 20px rgba(180,220,255,0.8);
    animation: glowPulse 3s ease-in-out infinite;
  }

  @keyframes glowPulse {
    0%, 100% { text-shadow: 0 0 20px rgba(180,220,255,0.8); }
    50% { text-shadow: 0 0 40px rgba(180,220,255,1), 0 0 60px rgba(244,208,63,0.4); }
  }

  .main-title {
    font-family: 'Playfair Display', serif;
    font-size: clamp(2.5rem, 8vw, 5rem);
    background: linear-gradient(135deg, #c8a45a 0%, #f4d03f 30%, #fff 50%, #f4d03f 70%, #c8a45a 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    filter: drop-shadow(0 2px 8px rgba(244,208,63,0.5));
    line-height: 1.1;
    animation: shimmer 4s ease-in-out infinite;
    background-size: 200% auto;
  }

  @keyframes shimmer {
    0% { background-position: 0% center; }
    100% { background-position: 200% center; }
  }

  .event-name {
    font-family: 'Dancing Script', cursive;
    font-size: clamp(1.8rem, 5vw, 3rem);
    color: #5b8fa8;
    margin-top: 5px;
    text-shadow: 0 0 30px rgba(91,143,168,0.6);
  }

  /* ===== NUEVA SECCI√ìN DE IM√ÅGENES ‚Äî √°ngeles siempre al lado del beb√© ===== */

  /* Contenedor principal: siempre en fila, centrado */
  .images-row {
    display: flex;
    flex-direction: row;          /* NUNCA cambia a columna */
    align-items: center;
    justify-content: center;
    gap: 0;                       /* los √°ngeles se pegan via margin negativo */
    margin: 20px 0;
    animation: fadeInUp 1.5s ease-out 0.3s both;
    width: 100%;
    max-width: 100vw;
  }

  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(40px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* Marco del beb√© ‚Äî centro absoluto */
  .baby-frame {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    flex-shrink: 0;
  }

  /* Aura giratoria del beb√© */
  .image-glow-ring {
    position: absolute;
    top: -10px; left: -10px; right: -10px; bottom: -10px;
    border-radius: 50%;
    background: conic-gradient(from 0deg, #f4d03f, #f9e57a, #fff, #a8d8f0, #f9d0e0, #f4d03f);
    animation: rotateSlow 4s linear infinite;
    filter: blur(4px);
    opacity: 0.8;
    z-index: -1;
  }

  @keyframes rotateSlow {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  /* Foto del beb√©: tama√±o que siempre cabe en pantallas peque√±as */
  .baby-img-wrapper {
    width: clamp(110px, 28vw, 200px);
    height: clamp(110px, 28vw, 200px);
    border-radius: 50%;
    overflow: hidden;
    border: 4px solid rgba(255,255,255,0.9);
    box-shadow: 0 0 30px rgba(244,208,63,0.5), 0 0 60px rgba(168,216,240,0.3), inset 0 0 20px rgba(255,255,255,0.2);
    position: relative;
    animation: floatBaby 4s ease-in-out infinite;
    flex-shrink: 0;
  }

  @keyframes floatBaby {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-12px); }
  }

  .baby-img-wrapper img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  /* Placeholder para im√°genes faltantes */
  .img-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #e8f4fd, #fdf3e7);
    font-size: 4rem;
  }

  /* Marcos de los √°ngeles: siempre al lado, escalan peque√±os en m√≥vil */
  .angel-frame {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }

  /* El √°ngel izquierdo se superpone levemente sobre el beb√© */
  .angel-frame.left {
    margin-right: clamp(-18px, -3vw, -8px);
    z-index: 2;
  }

  /* El √°ngel derecho igual */
  .angel-frame.right {
    margin-left: clamp(-18px, -3vw, -8px);
    z-index: 2;
  }

  .angel-img-wrapper {
    width: clamp(70px, 16vw, 150px);
    height: clamp(90px, 20vw, 190px);
    position: relative;
    animation: floatAngel 3s ease-in-out infinite;
    flex-shrink: 0;
  }

  .angel-frame.right .angel-img-wrapper {
    animation-delay: 0.8s;
  }

  @keyframes floatAngel {
    0%, 100% { transform: translateY(0px) rotate(-2deg); }
    50% { transform: translateY(-15px) rotate(2deg); }
  }

  .angel-img-wrapper img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    filter: drop-shadow(0 0 12px rgba(168,216,240,0.9)) drop-shadow(0 0 25px rgba(244,208,63,0.5));
  }

  /* Invitation card */
  .invitation-card {
    background: rgba(255,255,255,0.85);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-radius: 30px;
    padding: clamp(25px, 5vw, 50px);
    max-width: 600px;
    width: 100%;
    border: 1px solid rgba(255,255,255,0.9);
    box-shadow: 0 20px 60px rgba(168,216,240,0.3), 0 0 0 1px rgba(244,208,63,0.2);
    text-align: center;
    animation: fadeInUp 1.5s ease-out 0.6s both;
    position: relative;
    overflow: hidden;
  }

  .invitation-card::before {
    content: '';
    position: absolute;
    top: -50%; left: -50%;
    width: 200%; height: 200%;
    background: conic-gradient(from 0deg at 50% 50%, transparent 0deg, rgba(244,208,63,0.05) 60deg, transparent 120deg);
    animation: rotateSlow 8s linear infinite;
  }

  .card-inner { position: relative; z-index: 1; }

  .divider {
    display: flex;
    align-items: center;
    gap: 12px;
    margin: 15px 0;
    color: var(--gold);
    font-size: 1.2rem;
  }
  .divider::before, .divider::after {
    content: '';
    flex: 1;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--gold), transparent);
  }

  .card-title {
    font-family: 'Playfair Display', serif;
    font-size: clamp(1.4rem, 4vw, 2rem);
    color: var(--text-dark);
    margin-bottom: 8px;
  }

  .card-baby-name {
    font-family: 'Dancing Script', cursive;
    font-size: clamp(2rem, 6vw, 3.5rem);
    background: linear-gradient(135deg, #5b8fa8, #a8d8f0, #c8a45a);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    line-height: 1.2;
  }

  .card-details {
    font-size: clamp(0.95rem, 2.5vw, 1.1rem);
    color: #5a6a7a;
    line-height: 1.8;
    margin: 15px 0;
    font-style: italic;
  }

  .card-details strong {
    font-style: normal;
    color: #3a4a5a;
    font-weight: 600;
  }

  /* Maps button */
  .maps-btn {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    background: linear-gradient(135deg, #4a90c4, #6ab3db);
    color: white;
    text-decoration: none;
    padding: 14px 28px;
    border-radius: 50px;
    font-family: 'Cormorant Garamond', serif;
    font-size: 1rem;
    font-weight: 500;
    letter-spacing: 0.5px;
    box-shadow: 0 6px 20px rgba(74,144,196,0.4);
    transition: all 0.3s ease;
    margin: 10px 0;
    cursor: none;
  }
  .maps-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 30px rgba(74,144,196,0.6);
    background: linear-gradient(135deg, #3a80b4, #5aa3cb);
  }

  .address-text {
    font-size: 0.9rem;
    color: #7a8a9a;
    margin-top: 8px;
    font-style: italic;
  }

  /* WhatsApp button */
  .whatsapp-btn {
    display: inline-flex;
    align-items: center;
    gap: 12px;
    background: linear-gradient(135deg, #25d366, #1ebe57);
    color: white;
    text-decoration: none;
    padding: 16px 32px;
    border-radius: 50px;
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.1rem;
    font-weight: 600;
    letter-spacing: 0.5px;
    box-shadow: 0 6px 25px rgba(37,211,102,0.5);
    transition: all 0.3s ease;
    margin-top: 20px;
    cursor: none;
    animation: pulse 2s ease-in-out infinite;
  }

  @keyframes pulse {
    0%, 100% { box-shadow: 0 6px 25px rgba(37,211,102,0.5); }
    50% { box-shadow: 0 6px 40px rgba(37,211,102,0.8), 0 0 0 8px rgba(37,211,102,0.1); }
  }

  .whatsapp-btn:hover {
    transform: translateY(-3px) scale(1.03);
    box-shadow: 0 10px 35px rgba(37,211,102,0.7);
  }

  .whatsapp-icon {
    width: 28px;
    height: 28px;
    flex-shrink: 0;
  }

  /* Music button - fixed bottom right */
  .music-btn {
    position: fixed;
    bottom: 25px;
    right: 25px;
    z-index: 1000;
    background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(240,230,255,0.95));
    backdrop-filter: blur(10px);
    border: 2px solid rgba(244,208,63,0.6);
    color: #5b4a6a;
    padding: 12px 22px;
    border-radius: 50px;
    font-family: 'Cormorant Garamond', serif;
    font-size: 0.95rem;
    font-weight: 600;
    letter-spacing: 0.3px;
    cursor: pointer;
    box-shadow: 0 6px 25px rgba(0,0,0,0.15), 0 0 0 1px rgba(244,208,63,0.3);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .music-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 30px rgba(0,0,0,0.2), 0 0 20px rgba(244,208,63,0.4);
  }

  .music-note-anim {
    display: inline-block;
    animation: musicBounce 0.5s ease-in-out infinite alternate;
  }

  @keyframes musicBounce {
    from { transform: rotate(-10deg) scale(0.9); }
    to { transform: rotate(10deg) scale(1.1); }
  }

  /* Stars background */
  .star-field {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
    z-index: 2;
  }

  /* Halo ring decorator */
  .halo-decoration {
    position: absolute;
    width: 80px;
    height: 20px;
    border: 3px solid rgba(244,208,63,0.6);
    border-radius: 50%;
    top: -30px;
    left: 50%;
    transform: translateX(-50%);
    box-shadow: 0 0 15px rgba(244,208,63,0.5);
    animation: haloGlow 2s ease-in-out infinite;
  }

  @keyframes haloGlow {
    0%, 100% { box-shadow: 0 0 10px rgba(244,208,63,0.4); opacity: 0.7; }
    50% { box-shadow: 0 0 25px rgba(244,208,63,0.9), 0 0 40px rgba(244,208,63,0.3); opacity: 1; }
  }

  .wings-text {
    font-size: 2.5rem;
    position: absolute;
    animation: floatWings 3s ease-in-out infinite;
    pointer-events: none;
  }

  @keyframes floatWings {
    0%, 100% { transform: translateY(0) scale(1); }
    50% { transform: translateY(-8px) scale(1.1); }
  }

  /* Corner angels */
  .corner-angel {
    position: fixed;
    font-size: 2rem;
    opacity: 0.15;
    pointer-events: none;
    z-index: 3;
    animation: floatAngel 5s ease-in-out infinite;
  }
  .corner-angel.tl { top: 20px; left: 20px; animation-delay: 0s; }
  .corner-angel.tr { top: 20px; right: 20px; animation-delay: 1s; }
  .corner-angel.bl { bottom: 80px; left: 20px; animation-delay: 2s; }
  .corner-angel.br2 { bottom: 80px; right: 100px; animation-delay: 0.5s; }

  /* Ribbon banner */
  .ribbon {
    background: linear-gradient(135deg, #5b8fa8 0%, #7ab3c8 50%, #5b8fa8 100%);
    color: white;
    padding: 8px 30px;
    font-family: 'Cormorant Garamond', serif;
    font-size: 1rem;
    letter-spacing: 3px;
    text-transform: uppercase;
    border-radius: 4px;
    box-shadow: 0 3px 15px rgba(91,143,168,0.4);
    margin: 10px 0;
    display: inline-block;
  }

  /* Glitter stars that appear on touch/click */
  .glitter-star {
    position: fixed;
    pointer-events: none;
    z-index: 9998;
    animation: glitterFly 1s ease-out forwards;
    font-size: 1rem;
  }

  @keyframes glitterFly {
    0% { opacity: 1; transform: translate(0, 0) scale(1) rotate(0deg); }
    100% { opacity: 0; transform: translate(var(--tx), var(--ty)) scale(0.2) rotate(var(--rot)); }
  }

  /* Message badge */
  .date-badge {
    background: linear-gradient(135deg, rgba(244,208,63,0.2), rgba(200,230,255,0.3));
    border: 1px solid rgba(244,208,63,0.4);
    border-radius: 20px;
    padding: 15px 25px;
    margin: 15px 0;
  }

  .date-big {
    font-family: 'Playfair Display', serif;
    font-size: clamp(1.5rem, 4vw, 2.5rem);
    color: #3a5a7a;
  }

  @media (max-width: 480px) {
    /* √°ngeles siempre en fila ‚Äî nunca columna */
    .music-btn { bottom: 15px; right: 15px; font-size: 0.85rem; padding: 10px 16px; }
  }
</style>
</head>
<body>

<canvas id="sparkleCanvas"></canvas>
<div class="cursor" id="cursor"></div>
<div class="salon-bg"></div>
<div class="ambient-particles" id="ambientParticles"></div>

<!-- Corner angels -->
<div class="corner-angel tl">üëº</div>
<div class="corner-angel tr">üëº</div>
<div class="corner-angel bl">‚ú®</div>
<div class="corner-angel br2">üïäÔ∏è</div>

<!-- Hidden audio -->
<audio id="backgroundMusic" src="x.mp3" loop autoplay></audio>

<button onclick="toggleMusic()">Pausar m√∫sica</button>

<script>
const music = document.getElementById("backgroundMusic");
const btn = document.querySelector("button");

function toggleMusic() {
  if (music.paused) {
    music.play();
    btn.textContent = "Pausar m√∫sica";
  } else {
    music.pause();
    btn.textContent = "Reanudar m√∫sica";
  }
}
</script>

<div class="main-container">
  <!-- Header -->
  <div class="header-section">
    <div class="subtitle-top">‚ú® Con la bendici√≥n de Dios ‚ú®</div>
    <h1 class="main-title">Bautizo</h1>
    <div class="event-name">Una celebraci√≥n angelical</div>
  </div>

  <!-- Images row: √°ngeles SIEMPRE al lado del beb√©, en cualquier pantalla -->
  <div class="images-row">

    <!-- √Ångel izquierdo -->
    <div class="angel-frame left">
      <div class="angel-img-wrapper">
        <img src="b.png" alt="Angelito" onerror="this.parentNode.innerHTML='<div class=\'img-placeholder\'>üëº</div>'">
      </div>
    </div>

    <!-- Beb√© ‚Äî centro -->
    <div class="baby-frame">
      <div class="image-glow-ring"></div>
      <div class="baby-img-wrapper">
        <img src="a.png" alt="Beb√©" onerror="this.parentNode.innerHTML='<div class=\'img-placeholder\'>üë∂</div>'">
      </div>
      <div class="halo-decoration"></div>
    </div>

    <!-- √Ångel derecho (espejado) -->
    <div class="angel-frame right">
      <div class="angel-img-wrapper">
        <img src="b.png" alt="Angelito" onerror="this.parentNode.innerHTML='<div class=\'img-placeholder\'>üïäÔ∏è</div>'" style="transform:scaleX(-1)">
      </div>
    </div>

  </div>

  <!-- Main invitation card -->
  <div class="invitation-card">
    <div class="card-inner">
      <div class="ribbon">Invitaci√≥n</div>

      <div class="divider">‚ú¶ üëº ‚ú¶</div>

      <p class="card-title">Con gran alegr√≠a celebramos el bautizo de</p>
      <div class="card-baby-name">
        Nuestro √Ångel<br>üåü Amado üåü
      </div>

      <div class="divider">‚ú¶ üïäÔ∏è ‚ú¶</div>

      <div class="date-badge">
        <div style="font-family:'Cormorant Garamond',serif; color:#7a8a9a; font-size:0.9rem; letter-spacing:2px; text-transform:uppercase; margin-bottom:5px">Fecha del Sacramento</div>
        <div class="date-big">2026</div>
        <div style="font-size:1rem; color:#5a7a9a; font-style:italic; margin-top:4px">Durango, Dgo. ¬∑ M√©xico</div>
      </div>

      <div class="card-details">
        <strong>üìç Lugar del festejo</strong><br>
        Calle 5 de Febrero s/n<br>
        Centro, 34000 Durango, Dgo.
      </div>

      <a href="https://maps.app.goo.gl/3quDH19K2B65xa549" target="_blank" class="maps-btn" id="mapsBtn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
          <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" fill="white"/>
        </svg>
        Ver en Google Maps
      </a>
      <div class="address-text">Calle 5 de Febrero s/n, Centro, 34000 Durango, Dgo.</div>

      <div class="divider">‚ú¶ ‚ú® ‚ú¶</div>

      <p style="font-family:'Cormorant Garamond',serif; font-style:italic; color:#6a7a8a; font-size:1rem; margin-bottom:5px">
        Tu presencia hace este d√≠a a√∫n m√°s especial.<br>¬°Confirma tu asistencia!
      </p>

      <a href="#" id="whatsappBtn" target="_blank" class="whatsapp-btn">
        <svg class="whatsapp-icon" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg">
          <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
        </svg>
        Confirmar asistencia por WhatsApp
      </a>

      <div class="divider">‚ú¶ üëº ‚ú¶</div>

      <div style="font-family:'Dancing Script',cursive; font-size:1.4rem; color:#8ab4cc; margin-top:5px">
        ¬°Te esperamos con mucho amor! üíï
      </div>
    </div>
  </div>

</div>

<!-- Music Button - Fixed -->
<button class="music-btn" id="musicBtn" onclick="toggleMusic()">
  <span class="music-note-anim" id="musicNote">üéµ</span>
  <span id="musicText">Pausar m√∫sica</span>
</button>

<script>
  // ========== CURSOR ==========
  const cursor = document.getElementById('cursor');
  document.addEventListener('mousemove', e => {
    cursor.style.left = e.clientX + 'px';
    cursor.style.top = e.clientY + 'px';
  });

  // ========== SPARKLE CANVAS ==========
  const canvas = document.getElementById('sparkleCanvas');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  window.addEventListener('resize', () => {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  });

  // Sparkle particles
  let sparkles = [];

  class Sparkle {
    constructor(x, y, fromTouch = false) {
      this.x = x;
      this.y = y;
      this.size = Math.random() * 8 + 2;
      this.speedX = (Math.random() - 0.5) * (fromTouch ? 5 : 3);
      this.speedY = (Math.random() - 0.5) * (fromTouch ? 5 : 3) - (fromTouch ? 2 : 1);
      this.life = 1;
      this.decay = Math.random() * 0.025 + 0.01;
      this.hue = Math.random() * 60 + 40; // gold range
      this.type = Math.floor(Math.random() * 4);
      this.rotation = Math.random() * Math.PI * 2;
      this.rotSpeed = (Math.random() - 0.5) * 0.2;
    }

    update() {
      this.x += this.speedX;
      this.y += this.speedY;
      this.speedY += 0.05;
      this.life -= this.decay;
      this.rotation += this.rotSpeed;
    }

    draw() {
      ctx.save();
      ctx.globalAlpha = this.life;
      ctx.translate(this.x, this.y);
      ctx.rotate(this.rotation);

      if (this.type === 0) {
        // Star
        ctx.fillStyle = `hsl(${this.hue}, 100%, 70%)`;
        drawStar(ctx, 0, 0, this.size, this.size * 0.4, 5);
        ctx.fill();
      } else if (this.type === 1) {
        // Circle
        const grad = ctx.createRadialGradient(0, 0, 0, 0, 0, this.size);
        grad.addColorStop(0, `hsla(${this.hue}, 100%, 90%, 1)`);
        grad.addColorStop(1, `hsla(${this.hue}, 100%, 70%, 0)`);
        ctx.fillStyle = grad;
        ctx.beginPath();
        ctx.arc(0, 0, this.size, 0, Math.PI * 2);
        ctx.fill();
      } else if (this.type === 2) {
        // Diamond
        ctx.fillStyle = `hsl(${this.hue + 180}, 80%, 80%)`;
        ctx.beginPath();
        ctx.moveTo(0, -this.size);
        ctx.lineTo(this.size * 0.5, 0);
        ctx.lineTo(0, this.size);
        ctx.lineTo(-this.size * 0.5, 0);
        ctx.closePath();
        ctx.fill();
      } else {
        // Cross sparkle
        ctx.strokeStyle = `hsl(${this.hue}, 100%, 80%)`;
        ctx.lineWidth = this.size * 0.2;
        ctx.beginPath();
        ctx.moveTo(-this.size, 0); ctx.lineTo(this.size, 0);
        ctx.moveTo(0, -this.size); ctx.lineTo(0, this.size);
        ctx.moveTo(-this.size * 0.7, -this.size * 0.7); ctx.lineTo(this.size * 0.7, this.size * 0.7);
        ctx.moveTo(this.size * 0.7, -this.size * 0.7); ctx.lineTo(-this.size * 0.7, this.size * 0.7);
        ctx.stroke();
      }

      ctx.restore();
    }
  }

  function drawStar(ctx, cx, cy, outerR, innerR, points) {
    ctx.beginPath();
    for (let i = 0; i < points * 2; i++) {
      const r = i % 2 === 0 ? outerR : innerR;
      const angle = (i * Math.PI) / points - Math.PI / 2;
      const x = cx + r * Math.cos(angle);
      const y = cy + r * Math.sin(angle);
      i === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
    }
    ctx.closePath();
  }

  // Ambient floating sparkles
  let ambientSparkles = [];

  class AmbientSparkle {
    constructor() {
      this.reset();
    }
    reset() {
      this.x = Math.random() * canvas.width;
      this.y = canvas.height + 10;
      this.size = Math.random() * 6 + 1;
      this.speedY = -(Math.random() * 1.5 + 0.5);
      this.speedX = (Math.random() - 0.5) * 0.8;
      this.life = 0;
      this.maxLife = Math.random() * 0.8 + 0.2;
      this.growing = true;
      this.hue = Math.random() < 0.5 ? Math.random() * 60 + 40 : Math.random() * 40 + 180;
    }
    update() {
      this.x += this.speedX;
      this.y += this.speedY;
      if (this.growing) {
        this.life += 0.02;
        if (this.life >= this.maxLife) this.growing = false;
      } else {
        this.life -= 0.015;
      }
      if (this.life <= 0 || this.y < -20) this.reset();
    }
    draw() {
      ctx.save();
      ctx.globalAlpha = this.life / this.maxLife * 0.8;
      ctx.fillStyle = `hsl(${this.hue}, 100%, 80%)`;
      drawStar(ctx, this.x, this.y, this.size, this.size * 0.4, 4);
      ctx.fill();
      ctx.restore();
    }
  }

  // Init ambient sparkles
  for (let i = 0; i < 60; i++) {
    const s = new AmbientSparkle();
    s.y = Math.random() * canvas.height; // distribute initially
    s.life = s.maxLife * Math.random();
    ambientSparkles.push(s);
  }

  function addSparkles(x, y, count = 15) {
    for (let i = 0; i < count; i++) {
      sparkles.push(new Sparkle(x, y, true));
    }
  }

  // Mouse move trail
  let lastTrailX = 0, lastTrailY = 0;
  document.addEventListener('mousemove', e => {
    if (Math.hypot(e.clientX - lastTrailX, e.clientY - lastTrailY) > 20) {
      for (let i = 0; i < 3; i++) {
        sparkles.push(new Sparkle(e.clientX, e.clientY));
      }
      lastTrailX = e.clientX;
      lastTrailY = e.clientY;
    }
  });

  // Click burst
  document.addEventListener('click', e => addSparkles(e.clientX, e.clientY, 25));

  // Touch sparkles
  document.addEventListener('touchstart', e => {
    const t = e.touches[0];
    addSparkles(t.clientX, t.clientY, 20);
  });
  document.addEventListener('touchmove', e => {
    const t = e.touches[0];
    addSparkles(t.clientX, t.clientY, 5);
  });

  // Animation loop
  function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    ambientSparkles.forEach(s => { s.update(); s.draw(); });

    sparkles = sparkles.filter(s => s.life > 0);
    sparkles.forEach(s => { s.update(); s.draw(); });

    requestAnimationFrame(animate);
  }
  animate();

  // ========== AMBIENT PARTICLES (DOM) ==========
  const particlesContainer = document.getElementById('ambientParticles');
  const emojis = ['‚ú®', '‚≠ê', 'üí´', 'üåü', '‚ú¶', '‚óÜ', '¬∑'];

  for (let i = 0; i < 25; i++) {
    const p = document.createElement('div');
    p.className = 'ambient-particle';
    const size = Math.random() * 14 + 6;
    p.style.cssText = `
      left: ${Math.random() * 100}%;
      width: ${size}px;
      height: ${size}px;
      background: ${Math.random() < 0.5 
        ? `radial-gradient(circle, rgba(244,208,63,0.9), transparent)` 
        : `radial-gradient(circle, rgba(168,216,240,0.9), transparent)`};
      animation-duration: ${Math.random() * 15 + 10}s;
      animation-delay: ${Math.random() * 10}s;
    `;
    particlesContainer.appendChild(p);
  }

  // ========== MUSIC ==========
  const audio = document.getElementById('backgroundMusic');
  const musicBtn = document.getElementById('musicBtn');
  const musicText = document.getElementById('musicText');
  const musicNote = document.getElementById('musicNote');
  let isPlaying = false;

  // Try autoplay
  function tryAutoplay() {
    if (audio.src) {
      audio.play().then(() => {
        isPlaying = true;
        musicText.textContent = 'Pausar m√∫sica';
        musicNote.style.animation = 'musicBounce 0.5s ease-in-out infinite alternate';
      }).catch(() => {
        isPlaying = false;
        musicText.textContent = 'Reproducir m√∫sica';
        musicNote.style.animation = 'none';
      });
    } else {
      musicText.textContent = 'üéµ Sin audio';
      musicNote.style.animation = 'none';
    }
  }

  function toggleMusic() {
    if (!audio.src) return;
    if (isPlaying) {
      audio.pause();
      isPlaying = false;
      musicText.textContent = 'Reproducir m√∫sica';
      musicNote.textContent = 'üéµ';
      musicNote.style.animation = 'none';
    } else {
      audio.play();
      isPlaying = true;
      musicText.textContent = 'Pausar m√∫sica';
      musicNote.textContent = 'üéµ';
      musicNote.style.animation = 'musicBounce 0.5s ease-in-out infinite alternate';
    }
  }

  // Auto-attempt on load and on first interaction
  window.addEventListener('load', tryAutoplay);
  document.addEventListener('click', function onFirstClick() {
    if (!isPlaying && audio.src) {
      audio.play().then(() => {
        isPlaying = true;
        musicText.textContent = 'Pausar m√∫sica';
        musicNote.style.animation = 'musicBounce 0.5s ease-in-out infinite alternate';
      }).catch(() => {});
    }
    document.removeEventListener('click', onFirstClick);
  }, { once: false });

  // ========== BUTTONS sparkle ==========
  document.querySelectorAll('a, button').forEach(el => {
    el.addEventListener('click', function(e) {
      addSparkles(e.clientX || window.innerWidth/2, e.clientY || window.innerHeight/2, 20);
    });
  });

  // ========== TOUCH cursor simulation ==========
  document.addEventListener('touchmove', e => {
    const t = e.touches[0];
    cursor.style.left = t.clientX + 'px';
    cursor.style.top = t.clientY + 'px';
  });

  // ========== WHATSAPP LINK ==========
  const waMsg = "\u00a1Asistir\u00e9 al bautizo!";
  document.getElementById('whatsappBtn').href = 
    "https://wa.me/526183012070?text=" + encodeURIComponent(waMsg);

  // Initial burst on load
  setTimeout(() => {
    for (let i = 0; i < 8; i++) {
      setTimeout(() => {
        addSparkles(
          Math.random() * window.innerWidth,
          Math.random() * window.innerHeight * 0.5,
          10
        );
      }, i * 300);
    }
  }, 500);
</script>
</body>
</html>
